[machine]
project_root = <REPLACE_WITH_PATH_TO_REPO_ROOT>
src_search_paths = ${project_root}/src/cloudsc_fortran

[target]
src_files = ${machine:project_root}/src/cloudsc_fortran/cloudsc.F90
search_patterns = 
    cloudsc::.*

[build]
cmd = ./cloudsc-bundle create && ./cloudsc-bundle build --arch=./arch/ucar/derecho/intel/classic_GPTL
partial_build_cmd = cd build && make -f CMakeFiles/Makefile2 cloudsc-dwarf/src/cloudsc_fortran/all
working_dir = ${machine:project_root}

[run]
cmd = source ${machine:project_root}/scripts/set_env.sh && ./bin/dwarf-cloudsc-fortran 1 16384 32
working_dir = ${machine:project_root}/build

[eval]
cmd = python3 eval.py
working_dir = ${machine:project_root}/experiments
pass_log_path = True

[Derecho]
env_script = ${machine:project_root}/scripts/set_env.sh